{% extends 'base.html.twig' %}

{% block title %}Ajouter un Devblog{% endblock %}

{% block body %}
<div class="devblog-new-container container mt-5">
  <h2 class="text-center devblog-title">
    <i class="bi bi-megaphone-fill me-2"></i> Ajouter un Devblog
  </h2>

  {% for message in app.flashes('success') %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  {% endfor %}

  <div class="card shadow-sm border-0">
    <div class="card-body">
      {{ form_start(form) }}

        <div class="mb-3">
          {{ form_label(form.title, 'Titre', {'label_attr': {'class': 'form-label fw-bold'}}) }}
          {{ form_widget(form.title, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Nouveau Raid : Kraken'}}) }}
          {{ form_errors(form.title) }}
        </div>

        <div class="mb-3">
          {{ form_label(form.date, 'Date de publication', {'label_attr': {'class': 'form-label fw-bold'}}) }}
          {{ form_widget(form.date, {'attr': {'class': 'form-control'}}) }}
          {{ form_errors(form.date) }}
        </div>

        <div class="mb-3">
          {{ form_label(form.content, 'Contenu', {'label_attr': {'class': 'form-label fw-bold'}}) }}
          {{ form_widget(form.content, {'attr': {'class': 'form-control', 'rows': '6', 'placeholder': 'Décrivez les nouveautés...'}}) }}
          {{ form_errors(form.content) }}
        </div>

        <div class="mb-3">
          {{ form_label(form.image, 'Nom du fichier image', {'label_attr': {'class': 'form-label fw-bold'}}) }}
          {{ form_widget(form.image, {'attr': {'class': 'form-control', 'placeholder': 'Ex: devblog_07.png'}}) }}
          {{ form_errors(form.image) }}
        </div>

        <div class="text-end">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-check-circle me-1"></i> Enregistrer
          </button>
        </div>

      {{ form_end(form) }}
    </div>
  </div>
</div>
{% endblock %}