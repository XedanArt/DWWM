{% extends 'base.html.twig' %}

{% block title %}Révoquer un administrateur{% endblock %}

{% block body %}
<div class="revoke-admin-container mt-5">
  <h2 class="mb-4 text-center">Révocation d’un compte administrateur</h2>

  {% for message in app.flashes('success') %}
    <div class="alert alert-success">{{ message }}</div>
  {% endfor %}
  {% for message in app.flashes('danger') %}
    <div class="alert alert-danger">{{ message }}</div>
  {% endfor %}
  {% for message in app.flashes('warning') %}
    <div class="alert alert-warning">{{ message }}</div>
  {% endfor %}

  {% if admins is defined and admins|length > 0 %}
    <ul class="list-group">
      {% for admin in admins %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ admin.email }}</span>
          <form method="post" action="{{ path('superadmin.revoke_admin.submit', { id: admin.id }) }}" onsubmit="return confirm('Confirmer la révocation de {{ admin.email }} ?')">
            <button type="submit" class="btn btn-danger btn-sm">
              <i class="bi bi-person-x-fill me-1"></i> Révoquer
            </button>
          </form>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted text-center">Aucun administrateur à afficher.</p>
  {% endif %}
</div>
{% endblock %}